1）第一章：项目启动与“设计基因”注入
欢迎来到“光影代码”的第一个实战章节！
在这一章，我们的目标只有一个：搭建一个坚如磐"石的项目“黄金骨架”。这不仅仅是一个 "Hello World"，而是一个配置了专业开发流程、注入了独一无二视觉风格、并已成功部署到全球网络的、真正意义上的“生产级”项目起点。

我们将共同完成以下所有奠基工作：
- ✅ 初始化一个现代化的 Next.js 项目。
- ✅ 将项目与 GitHub 和 Vercel 连接，打通“代码即上线”的自动化部署流程。
- ✅ 定义并注入我们项目专属的、包含亮色与暗色双主题的“设计基因”。
- ✅ 验证我们的设计系统 (shadcn/ui) 已正确应用新主题。
准备好了吗？让我们开始为“数字花园”奠定第一块基石。

1.1 初始化项目与版本控制
专业的项目，始于一个规范的开端。我们将使用官方脚手架 create-next-app 来开启项目，但会用一个小技巧来提升效率。

  实战：创建你的 Next.js 应用
  在你的终端里，选择一个合适的工作目录，然后运行以下命令：
  `npx create-next-app@latest digital-garden-ai --typescript --tailwind --eslint --app --import-alias "@/*" --use-pnpm`

  >专家提示 (Expert Tip):
  >我们在这里追加了 --use-pnpm 标志。create-next-app 默认使用 npm，而 pnpm 通过复用本地已下载过的依赖包，能极大地提升安装速度并节省磁盘空间。对于需要创建多个项目的独立开发者来说，这是一个能显著提升幸福感的最佳实践。

  完成后，进入项目目录，并清理一下默认的欢迎页面：
  1. cd digital-garden-ai
  2. 打开 app/page.tsx 文件，将 main 标签内的所有内容替换为一个简单的 <h1>光影代码 (Code in Light)</h1>。

  实战：连接到 Git
  create-next-app 已经自动为我们初始化了 Git。现在，我们来完成第一次提交，并将其与你的 GitHub 仓库关联。
  1. 在你的终端里：
  ```
  git add .
  git commit -m "Initial commit: Setup Next.js project"
  ```
  2. 前往 GitHub，创建一个新的私有 (Private) 仓库（例如，digital-garden）。
  3. 按照 GitHub 页面上的指引，将你的本地仓库与这个远程仓库关联，并推送你的初始代码：
  ```
  git remote add origin https://github.com/<your-username>/digital-garden.git
  git branch -M main
  git push -u origin main
  ```

1.2 打通自动化部署流水线 (CI/CD with Vercel)
这是专业工作流的起点。我们要在写第一行有意义的代码之前，就让项目“上线”。
    1. 登录 Vercel: 使用你的 GitHub 账户登录 Vercel。
    2. 导入项目: 在 Vercel 后台，选择 "Add New... -> Project"，然后从列表中选择你刚刚创建的 digital-garden 仓库，点击 "Import"。
    3. 一键部署: Vercel 会自动识别出这是一个 Next.js 项目，你无需做任何配置，直接点击 Deploy。
  几分钟后，你的项目骨架就成功部署到全球网络了！Vercel 会为你提供一个公开的 .vercel.app 域名。
  
  >核心增益 (The "Why"):
  >从此刻起，你的 CI/CD (持续集成/持续部署) 已经完全打通。之后任何推送到 main 分支的代码，都会被 Vercel 自动部署到生产环境。而你为新功能创建的每一个 Pull Request，Vercel 都会为其生成一个独立的预览环境。这套工作流，是现代Web开发的黄金标准。

1.3 注入“设计基因” (Theming)
现在，我们来让这个朴素的“骨架”拥有我们在 PRD 中定义的、独一无二的灵魂和气质。

  第一步：回归稳定 - 拥抱 Tailwind CSS v3
  为了保证我们教程的稳定性和可复现性，我们将手动安装并配置社区验证最成熟的 Tailwind CSS v3。
    1. 卸载默认版本 (如果存在): pnpm uninstall tailwindcss
    2. 安装 v3 版本: pnpm install -D tailwindcss@^3 postcss autoprefixer
    3. 初始化配置文件: npx tailwindcss init -p
  - 这会在你的项目根目录创建 tailwind.config.ts 和 postcss.config.js。

  第二步：配置 tailwind.config.ts
  打开 tailwind.config.ts，粘贴以下内容。这份配置是专门为 Next.js App Router + shadcn/ui 的组合量身定制的。
  ```
  import type { Config } from "tailwindcss"
  import animate from "tailwindcss-animate"

  const config = {
    darkMode: ["class"],
    content: [
      './pages//*.{ts,tsx}',
  **    './components/**/.{ts,tsx}',
  *    './app/**/*.{ts,tsx}',
      './src/**/.{ts,tsx}',
          ],
    theme: {
      container: {
        center: true,
        padding: "2rem",
        screens: {
          "2xl": "1400px",
        },
      },
      extend: {
        fontFamily: {
          sans: ["var(--font-sans)", "sans-serif"],
          serif: ["var(--font-serif)", "serif"],
        },
        colors: {
          border: "hsl(var(--border))",
          input: "hsl(var(--input))",
          ring: "hsl(var(--ring))",
          background: "hsl(var(--background))",
          foreground: "hsl(var(--foreground))",
          primary: {
            DEFAULT: "hsl(var(--primary))",
            foreground: "hsl(var(--primary-foreground))",
          },
          secondary: {
            DEFAULT: "hsl(var(--secondary))",
            foreground: "hsl(var(--secondary-foreground))",
          },
          destructive: {
            DEFAULT: "hsl(var(--destructive))",
            foreground: "hsl(var(--destructive-foreground))",
          },
          muted: {
            DEFAULT: "hsl(var(--muted))",
            foreground: "hsl(var(--muted-foreground))",
          },
          accent: {
            DEFAULT: "hsl(var(--accent))",
            foreground: "hsl(var(--accent-foreground))",
          },
          popover: {
            DEFAULT: "hsl(var(--popover))",
            foreground: "hsl(var(--popover-foreground))",
          },
          card: {
            DEFAULT: "hsl(var(--card))",
            foreground: "hsl(var(--card-foreground))",
          },
        },
        borderRadius: {
          lg: "var(--radius)",
          md: "calc(var(--radius) - 2px)",
          sm: "calc(var(--radius) - 4px)",
        },
  *      keyframes: { /* ...shadcn/ui animation keyframes... / },
  *      animation: { /* ...shadcn/ui animations... */ },
      },
    },
    plugins: [animate],
  } satisfies Config

  export default config
  ```

  第三步：配置 globals.css
  打开 app/globals.css，清空所有内容，然后粘贴以下这份最终的、包含了完整亮暗双主题的“黄金标准”配置。
  ```
  /* app/globals.css */
  @tailwind base;
  @tailwind components;
  @tailwind utilities;

  @layer base {
    :root {
      --background: 210 40% 98%;
      --foreground: 224 71.4% 4.1%;
      --card: 210 40% 98%;
      --card-foreground: 224 71.4% 4.1%;
      --popover: 210 40% 98%;
      --popover-foreground: 224 71.4% 4.1%;
      --primary: 217.2 91.2% 59.8%;
      --primary-foreground: 210 40% 98%;
      --secondary: 210 40% 96.1%;
      --secondary-foreground: 222.2 47.4% 11.2%;
      --muted: 210 40% 96.1%;
      --muted-foreground: 215.4 16.3% 46.9%;
      --accent: 210 40% 96.1%;
      --accent-foreground: 222.2 47.4% 11.2%;
      --destructive: 0 84.2% 60.2%;
      --destructive-foreground: 210 40% 98%;
      --border: 214.3 31.8% 91.4%;
      --input: 214.3 31.8% 91.4%;
      --ring: 222.2 47.4% 11.2%;
      --radius: 0.75rem;
    }

    .dark {
      /* 更新深色模式颜色，使其更适合黑白照片 */
      --background: 220 10% 8%;
      --foreground: 220 10% 98%;
      --card: 220 10% 8%;
      --card-foreground: 220 10% 98%;
      --popover: 220 10% 8%;
      --popover-foreground: 220 10% 98%;
      --primary: 220 10% 80%;
      --primary-foreground: 220 10% 10%;
      --secondary: 220 10% 15%;
      --secondary-foreground: 220 10% 98%;
      --muted: 220 10% 15%;
      --muted-foreground: 220 10% 70%;
      --accent: 220 10% 15%;
      --accent-foreground: 220 10% 98%;
      --destructive: 0 62.8% 30.6%;
      --destructive-foreground: 220 10% 98%;
      --border: 220 10% 20%;
      --input: 220 10% 20%;
      --ring: 220 10% 80%;
    }
  }

  @layer base {
    body {
      @apply bg-background text-foreground;
    }
  }
  ```

  第四步：配置字体与 shadcn/ui
    1. 配置字体: 根据我们的 PRD，打开 app/layout.tsx，使用 next/font 配置 Figtree 和 Lora 字体，并将字体变量应用到 <body> 标签。
    2. 初始化 shadcn/ui: npx shadcn@latest init。在交互式提问中，它会询问你的 globals.css 路径、CSS 变量配置等，大部分可以直接按回车确认。
    3. 验证效果: npx shadcn@latest add button，然后在 app/page.tsx 中使用它。启动 pnpm dev，你应该能看到一个带有我们自定义字体和浅蓝色背景的按钮。

本章小结
恭喜！我们已经完成了所有“脏活累活”。我们现在拥有了一个专业、健壮、且自动化程度极高的项目基础。我们的“黄金骨架”已经打造完毕，它兼具美感与工程化的坚固。
接下来，我们将进入第二章：「构建全球化应用 (Internationalization, i18n)」，为我们的花园，装上通往世界的大门。