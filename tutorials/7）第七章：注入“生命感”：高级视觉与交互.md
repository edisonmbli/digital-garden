ç¬¬ä¸ƒç« ï¼šæ³¨å…¥â€œç”Ÿå‘½æ„Ÿâ€ï¼šé«˜çº§è§†è§‰ä¸äº¤äº’
æ¬¢è¿æ¥åˆ°æˆ‘ä»¬æ—…ç¨‹çš„ç¬¬ä¸ƒç« ï¼
åœ¨å‰å…­ç« ï¼Œæˆ‘ä»¬å·²ç»ä¸ºâ€œæ•°å­—èŠ±å›­â€æ„å»ºäº†åšå®çš„éª¨æ¶å’Œä¸°å¯Œçš„å†…å®¹ã€‚å®ƒåŠŸèƒ½å®Œå¤‡ï¼Œæ•°æ®çœŸå®ã€‚ä½†åœ¨ä½“éªŒä¸Šï¼Œå®ƒè¿˜ç•¥æ˜¾â€œç”Ÿç¡¬â€â€”â€”é¡µé¢çš„åˆ‡æ¢æ˜¯ç¬é—´çš„ï¼Œå†…å®¹çš„å‡ºç°æ˜¯çªå…€çš„ã€‚

> ç« èŠ‚ç›®æ ‡: åœ¨è¿™ä¸€ç« ï¼Œæˆ‘ä»¬å°†æ‰®æ¼”â€œä½“éªŒè®¾è®¡å¸ˆâ€å’Œâ€œåŠ¨æ•ˆå·¥ç¨‹å¸ˆâ€çš„è§’è‰²ã€‚æˆ‘ä»¬å°†å¼•å…¥å¼ºå¤§çš„åŠ¨ç”»åº“ï¼Œä¸ºç½‘ç«™æ·»åŠ ç»†è…»çš„è¿‡æ¸¡åŠ¨ç”»å’Œå¾®äº¤äº’ï¼›æˆ‘ä»¬å°†ç”¨ä¸“ä¸šçš„â€œç€‘å¸ƒæµâ€å¸ƒå±€ï¼Œæ¥å®Œç¾å‘ˆç°ä½ çš„æ‘„å½±ä½œå“ï¼›æˆ‘ä»¬è¿˜å°†å¯¹ç…§ç‰‡æ¨¡æ€æ¡†è¿›è¡Œä¸€æ¬¡â€œç²¾è£…ä¿®â€ï¼Œè®©æ¯ä¸€æ¬¡ç‚¹å‡»ï¼Œéƒ½æˆä¸ºä¸€æ¬¡è§†è§‰äº«å—ã€‚

## 7.1 æˆ‘ä»¬çš„â€œæ–°æ­¦å™¨â€ï¼šFramer Motion
> æ•™ç¨‹: è¦ä¸ºç½‘ç«™æ·»åŠ â€œç”Ÿå‘½æ„Ÿâ€ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå¼ºå¤§çš„åŠ¨ç”»å·¥å…·ã€‚åœ¨ React ç”Ÿæ€ä¸­ï¼ŒFramer Motion æ˜¯å½“ä¹‹æ— æ„§çš„ç‹è€…ã€‚
> - å®ƒæ˜¯ä»€ä¹ˆï¼Ÿ: ä¸€ä¸ªä¸º React è€Œç”Ÿçš„ã€å£°æ˜å¼çš„åŠ¨ç”»åº“ã€‚ä½ ä¸éœ€è¦å†å»å†™å¤æ‚çš„ CSS è¿‡æ¸¡æˆ–æ‰‹åŠ¨çš„ JavaScript åŠ¨ç”»ï¼Œä½ åªéœ€è¦å‘Šè¯‰ç»„ä»¶å®ƒçš„â€œåˆå§‹çŠ¶æ€â€ã€â€œåŠ¨ç”»çŠ¶æ€â€å’Œâ€œé€€å‡ºçŠ¶æ€â€ï¼ŒFramer Motion å°±ä¼šä¸ºä½ è¡¥å…¨æ‰€æœ‰ä¸­é—´çš„æµç•…åŠ¨ç”»ã€‚
> - ä¸ºä»€ä¹ˆé€‰æ‹©å®ƒï¼Ÿ: å®ƒçš„ API è®¾è®¡æå…¶ç®€æ´ã€ç›´è§‚ï¼Œä¸ React çš„ç»„ä»¶åŒ–æ€ç»´å®Œç¾èåˆï¼Œèƒ½è®©æˆ‘ä»¬ä»¥æä½çš„æˆæœ¬ï¼Œå®ç°æå…¶å¤æ‚å’Œé«˜æ€§èƒ½çš„åŠ¨ç”»æ•ˆæœã€‚
å®æˆ˜ï¼šå®‰è£… Framer Motion
åœ¨ä½ çš„ Next.js é¡¹ç›®æ ¹ç›®å½•ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
`pnpm install framer-motion`

## 7.2 æ ¸å¿ƒæŒ‘æˆ˜(ä¸€)ï¼šå®ç°â€œæ— é—ªçƒâ€çš„é¡µé¢è¿‡æ¸¡
æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªç›®æ ‡ï¼Œæ˜¯æ¶ˆé™¤é¡µé¢ä¹‹é—´åˆ‡æ¢æ—¶çš„â€œé—ªçƒæ„Ÿâ€ï¼Œç”¨ä¸€ä¸ªå¾®å¦™çš„æ·¡å…¥æ·¡å‡ºæ•ˆæœæ¥æ›¿ä»£ã€‚
> æ·±åº¦å‰–æï¼šAnimatePresence ä¸ºä½•ä¼šâ€œé—ªçƒâ€ï¼Ÿ
> å½“ä½ ç›´æ¥åœ¨ Next.js App Router ä¸­ä½¿ç”¨ AnimatePresence æ—¶ï¼Œå¾ˆå®¹æ˜“é‡åˆ°â€œé—ªçƒâ€é—®é¢˜ã€‚å…¶æ ¹æºåœ¨äºï¼šæœåŠ¡å™¨é¦–å…ˆä¼šå‘é€ä¸€ä»½æ— åŠ¨ç”»çš„é™æ€ HTML ç»™æµè§ˆå™¨ã€‚å½“å®¢æˆ·ç«¯çš„ JavaScriptï¼ˆåŒ…å« Framer Motionï¼‰åŠ è½½å¹¶æ‰§è¡Œï¼ˆè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºâ€œæ°´åˆ Hydrationâ€ï¼‰åï¼ŒåŠ¨ç”»æ‰å¼€å§‹æ¥ç®¡ã€‚è¿™ä¸ªå¾®å°çš„æ—¶é—´å·®ï¼Œå¯¼è‡´äº†è§†è§‰ä¸Šçš„ä¸è¿è´¯ã€‚
> ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç¤¾åŒºæ¢ç´¢å‡ºäº†ä¸€ä¸ªåä¸º FrozenRouter çš„ä¼˜é›…æ¨¡å¼ã€‚å®ƒçš„ä½œç”¨ï¼Œæ˜¯åœ¨é¡µé¢åˆ‡æ¢æ—¶ï¼Œæ™ºèƒ½åœ°â€œå†»ç»“â€ä¸Šä¸€ä¸ªé¡µé¢çš„çŠ¶æ€ï¼Œä»è€Œç»™ Framer Motion çš„é€€åœºåŠ¨ç”» (exit) åˆ›é€ å‡ºå®Œç¾çš„æ‰§è¡Œæ—¶æœºã€‚

å®æˆ˜ï¼šåˆ›å»º FrozenRouter å’Œ PageTransition
1. åˆ›å»º FrozenRouter ä¸Šä¸‹æ–‡:
  - åœ¨ app/ ç›®å½•ä¸‹åˆ›å»º context/frozen-router.tsxã€‚
  - å†™å…¥ä»£ç :
  ```
  // app/context/frozen-router.tsx
  'use client'
  import { useContext, useRef, createContext } from 'react'
  import { usePathname } from 'next/navigation'

  const FrozenRouterContext = createContext<React.MutableRefObject<string> | null>(null)

  export const FrozenRouterProvider = ({ children }: { children: React.ReactNode }) => {
    const frozenPathname = useRef(usePathname())

    return (
      <FrozenRouterContext.Provider value={frozenPathname}>
        {children}
      </FrozenRouterContext.Provider>
    )
  }

  export const useFrozenRouter = () => {
    const frozenPathname = useContext(FrozenRouterContext)

    if (!frozenPathpname) {
      throw new Error('useFrozenRouter must be used within a FrozenRouterProvider')
    }

    return frozenPathname.current
  }
  ```

2. åˆ›å»º PageTransition ç»„ä»¶:
  - åˆ›å»ºæ–‡ä»¶: app/ui/page-transition.tsx
  - å†™å…¥ä»£ç :
  ```
  // app/ui/page-transition.tsx
  'use client';

  import { motion, AnimatePresence } from 'framer-motion';
  import { usePathname } from 'next/navigation';

  export function PageTransition({ children }: { children: React.ReactNode }) {
    const pathname = usePathname();

    return (
      <AnimatePresence mode="wait">
        <motion.div
          key={pathname}
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          exit={{ opacity: 0, y: -20 }}
          transition={{ duration: 0.3 }}
        >
          {children}
        </motion.div>
      </AnimatePresence>
    );
  }
  ```

3. åœ¨æ ¹å¸ƒå±€ä¸­åº”ç”¨: æ‰“å¼€ app/[lang]/layout.tsxï¼Œç”¨ FrozenRouterProvider å’Œ <PageTransition /> ç»„ä»¶ï¼ŒåŒ…è£¹ {children}ã€‚
  ```
  // app/[lang]/layout.tsx
  import { FrozenRouterProvider } from '@/app/context/frozen-router'
  import { PageTransition } from '@/app/ui/page-transition';

  export default async function RootLayout({ children, ... }) {
    // ...
    return (
      // ...
          <main className="flex-1">
            <FrozenRouterProvider>
              <PageTransition>{children}</PageTransition>
            </FrozenRouterProvider>
          </main>
      // ...
    );
  }
  ```

## 7.3 è®©å†…å®¹â€œä¼˜é›…â€ç™»åœºï¼šåˆ›å»ºå¯å¤ç”¨çš„å…¥åœºåŠ¨ç”»
å½“ç”¨æˆ·å‘ä¸‹æ»šåŠ¨é¡µé¢æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›æ–°å‡ºç°çš„å†…å®¹èƒ½ä»¥ä¸€ç§ä¼˜é›…çš„æ–¹å¼â€œæ»‘å…¥â€æˆ–â€œæ·¡å…¥â€ã€‚

å®æˆ˜ï¼šåˆ›å»º <FadeIn /> ç»„ä»¶
1. åˆ›å»ºæ–‡ä»¶: app/ui/fade-in.tsx
2. å†™å…¥ä»£ç :
```
// app/ui/fade-in.tsx
'use client'

import { motion } from 'framer-motion'

export function FadeIn({ children }: { children: React.ReactNode }) {
  return (
    <motion.div
      initial="hidden" // åˆå§‹çŠ¶æ€
      whileInView="visible" // å½“è¿›å…¥è§†å£æ—¶ï¼Œåº”ç”¨ 'visible' çŠ¶æ€
      viewport={{ once: true, amount: 0.2 }} // åªè§¦å‘ä¸€æ¬¡ï¼Œå½“å…ƒç´ 20%å¯è§æ—¶è§¦å‘
      variants={{
        // å®šä¹‰ä¸åŒçŠ¶æ€çš„æ ·å¼
        hidden: { opacity: 0, y: 20 },
        visible: {
          opacity: 1,
          y: 0,
          transition: { duration: 0.6, delay: 0.2 },
        },
      }}
    >
      {children}
    </motion.div>
  )
}
```

> é—®é¢˜æ’æŸ¥: å¦‚æœä½ å‘ç° <FadeIn> åœ¨è¢« <PageTransition> åŒ…è£¹çš„é¡µé¢ä¸­æ²¡æœ‰æ•ˆæœï¼Œè¿™å¯èƒ½æ˜¯å› ä¸º AnimatePresence ä¸ whileInView çš„å†²çªã€‚ä¸€ä¸ªå¸¸è§çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼Œä¸º FadeIn ç»„ä»¶çš„ transition æ·»åŠ ä¸€ä¸ªå¾®å°çš„ delayï¼Œä¾‹å¦‚ transition: { duration: 0.6, delay: 0.1 }ï¼Œä»¥ç¡®ä¿å®ƒåœ¨é¡µé¢è¿‡æ¸¡åŠ¨ç”»å®Œæˆåå†æ‰§è¡Œã€‚

## 7.4 æ ¸å¿ƒæŒ‘æˆ˜(äºŒ)ï¼šå®ç°çœŸæ­£çš„â€œç€‘å¸ƒæµâ€å¸ƒå±€
è¿™æ˜¯è§£å†³æˆ‘ä»¬ç¬¬å…­ç« é—ç•™çš„â€œå›¾ç‰‡è¢«è£å‰ªâ€é—®é¢˜çš„æ ¸å¿ƒç¯èŠ‚ã€‚

å®æˆ˜ï¼šå¼•å…¥ react-masonry-css
1. å®‰è£…ä¾èµ–: pnpm install react-masonry-css
2. æ·»åŠ åŸºç¡€æ ·å¼: æ‰“å¼€ app/ui/globals.cssï¼Œåœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ  react-masonry-css éœ€è¦çš„åŸºç¡€å¸ƒå±€æ ·å¼ã€‚
  ```
  /* app/ui/globals.css */

  .my-masonry-grid {
    display: -webkit-box; /* Not needed if autoprefixing */
    display: -ms-flexbox; /* Not needed if autoprefixing */
    display: flex;
    margin-left: -30px; /* gutter size offset */
    width: auto;
  }
  .my-masonry-grid_column {
    padding-left: 30px; /* gutter size */
    background-clip: padding-box;
  }

  /* Style your items */
  .my-masonry-grid_column > div {
    /* change div to reference your elements */
    margin-bottom: 30px;
  }
  ```

å®æˆ˜ï¼šé‡æ„ PhotoGrid.tsx
```
// app/ui/photo-grid.tsx
'use client';
import Masonry from 'react-masonry-css';
// ...

export function PhotoGrid({ photos = [] }: { photos: Photo[] }) {
  // ...
  const breakpointColumnsObj = { default: 4, 1100: 3, 700: 2, 500: 1 };

  return (
    <>
      <Masonry
        breakpointCols={breakpointColumnsObj}
        className="my-masonry-grid"
        columnClassName="my-masonry-grid_column"
      >
        {photos.map((photo) => (
          <FadeIn key={photo._id}>
            <div
              className="rounded-lg overflow-hidden cursor-pointer"
              onClick={() => setSelectedPhoto(photo)}
            >
              <Image
                src={photo.imageUrl}
                alt={photo.title || 'A photo from the collection'}
                width={photo.metadata?.dimensions.width}
                height={photo.metadata?.dimensions.height}
                className="w-full h-full object-cover transition-transform duration-300 hover:scale-110"
                placeholder="blur"
                blurDataURL={photo.metadata?.lqip}
              />
            </div>
          </FadeIn>
        ))}
      </Masonry>
      {/* ... Dialog ... */}
    </>
  );
}
```

> æ•™ç¨‹ï¼šSanity å¦‚ä½•çŸ¥é“å›¾ç‰‡å°ºå¯¸ï¼Ÿ
> ä½ å¯èƒ½ä¼šå¥½å¥‡ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰åœ¨ photo.ts Schema ä¸­å®šä¹‰ width å’Œ height å­—æ®µã€‚è¿™æ˜¯å› ä¸º Sanity ä¼šè‡ªåŠ¨æå–ä½ ä¸Šä¼ çš„æ¯ä¸€å¼ å›¾ç‰‡çš„å°ºå¯¸ä¿¡æ¯ï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨å›¾ç‰‡çš„ asset (èµ„æº) çš„ metadata.dimensions ä¸­ã€‚æˆ‘ä»¬çš„ DAL æ­£æ˜¯é€šè¿‡ GROQ æŸ¥è¯¢ï¼Œå°†è¿™ä»½å®è´µçš„ä¿¡æ¯ä¸€å¹¶è·å–äº†å›æ¥ã€‚

## 7.5 â€œç²¾è£…â€æˆ‘ä»¬çš„ç…§ç‰‡æ¨¡æ€æ¡†ï¼šæ„å»º <ResponsiveDialog />
æœ€åï¼Œæˆ‘ä»¬æ¥ä¼˜åŒ–ç‚¹å‡»ç…§ç‰‡åå¼¹å‡ºçš„æ¨¡æ€æ¡†ï¼Œè®©å®ƒæ›´å…·æ²‰æµ¸æ„Ÿã€‚

> æ•™ç¨‹ï¼šæ¡Œé¢ç«¯ vs. ç§»åŠ¨ç«¯
> å¯¹äºå¤§å±è®¾å¤‡ï¼Œä¸€ä¸ªå±…ä¸­çš„æ¨¡æ€æ¡† (Dialog) æ˜¯æœ€ä½³é€‰æ‹©ã€‚ä½†å¯¹äºç‹­çª„çš„ç§»åŠ¨ç«¯å±å¹•ï¼Œä¸€ä¸ªä»åº•éƒ¨æ»‘å‡ºçš„æŠ½å±‰ (Drawer)ï¼Œæ›´ç¬¦åˆå•æ‰‹æ“ä½œçš„äººä½“å·¥ç¨‹å­¦ï¼Œæ˜¯æ›´ç°ä»£ã€æ›´å‹å¥½çš„ç”¨æˆ·ä½“éªŒã€‚æˆ‘ä»¬å°†æ„å»ºä¸€ä¸ªèƒ½æ™ºèƒ½åˆ‡æ¢çš„å“åº”å¼ç»„ä»¶ã€‚

> Masonry å¸ƒå±€è§†è§‰ä¼˜åŒ–æœ€ä½³å®è·µ
> è¦è®©å†…å®¹ä½œå“åœ¨ç€‘å¸ƒæµå¸ƒå±€ä¸­æ˜¾å¾—å¥½çœ‹è€Œä¸æ˜¾æ··ä¹±ï¼Œè¿™æ›´å¤šæ˜¯è®¾è®¡/ç¼–è¾‘å·¥ä½œï¼Œéœ€è¦è°ƒç”¨ä½ çš„å®¡ç¾å¤§è„‘ğŸ§ ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›å¤§åŸåˆ™ä¾›å‚è€ƒ
> 1. æ ¸å¿ƒåŸåˆ™ï¼šæ‰‹åŠ¨ç­–å±•ï¼Œè€Œééšæœºæ’åˆ—
>   - æ”¾å¼ƒéšæœºæ€§ ï¼šæœ€é‡è¦çš„ä¸€ç‚¹æ˜¯ï¼Œä½ éœ€è¦æ‰‹åŠ¨æ§åˆ¶ç…§ç‰‡çš„é¡ºåºã€‚è¿™å¯èƒ½æ„å‘³ç€åœ¨ Sanity ä¸­ä¸ºä½ çš„ç…§ç‰‡é›†å¢åŠ ä¸€ä¸ªæ’åºå­—æ®µï¼Œæˆ–è€…åœ¨è·å–æ•°æ®åï¼Œåœ¨åç«¯è¿›è¡Œä¸€æ¬¡æœ‰æ„çš„æ’åºã€‚ç›®æ ‡æ˜¯åˆ›é€ ä¸€ç§äººä¸ºè®¾è®¡çš„ã€æœ‰èŠ‚å¥çš„è§†è§‰ä½“éªŒã€‚
> 2. å»ºç«‹â€œè§†è§‰é”šç‚¹â€ (Visual Anchors) 
>   - çªå‡ºå…³é”®ç…§ç‰‡ ï¼šåœ¨ç½‘æ ¼ä¸­æˆ˜ç•¥æ€§åœ°æ”¾ç½®ä¸€ä¸¤å¼ æœ€å¼•äººæ³¨ç›®ã€å°ºå¯¸æœ€å¤§æˆ–è§†è§‰å†²å‡»åŠ›æœ€å¼ºçš„ç…§ç‰‡ï¼ˆä¾‹å¦‚ï¼Œä¸€å¼ é«˜è´¨é‡çš„ç«–å›¾æˆ–ä¸€å¼ å†…å®¹ä¸°å¯Œçš„æ¨ªå›¾ï¼‰ã€‚è¿™äº›â€œé”šç‚¹â€ä¼šæˆä¸ºç”¨æˆ·è§†çº¿çš„èµ·ç‚¹ï¼Œå¹¶æ‰“ç ´å¸ƒå±€çš„å•è°ƒæ„Ÿã€‚
> 3. åˆ›é€ èŠ‚å¥ä¸å¹³è¡¡ (Rhythm and Balance)   
>   - äº¤é”™æ’åˆ— ï¼šé¿å…å°†æ‰€æœ‰ç«–å›¾æˆ–æ‰€æœ‰æ¨ªå›¾å †å åœ¨ä¸€èµ·ã€‚æœ‰æ„è¯†åœ°å°†ç«–å›¾å’Œæ¨ªå›¾è¿›è¡Œäº¤é”™æ’åˆ—ï¼Œå½¢æˆä¸€ç§é«˜ä½é”™è½ã€ç–å¯†æœ‰è‡´çš„è§†è§‰èŠ‚å¥ã€‚ä¾‹å¦‚ï¼Œä¸€å¼ é«˜è€¸çš„ç«–å›¾æ—è¾¹å¯ä»¥æ­é…å‡ å¼ è¾ƒçŸ®çš„æ¨ªå›¾æ¥å¹³è¡¡ç©ºé—´ã€‚
>   - é¿å…â€œæ²³æµâ€ ï¼šæ³¨æ„è§‚å¯Ÿå¸ƒå±€ä¸­ç”±ç©ºç™½åŒºåŸŸå½¢æˆçš„â€œæ²³æµâ€æˆ–â€œè£‚ç¼â€ã€‚å¦‚æœå‘ç°è¿‡äºæ˜æ˜¾çš„å‚ç›´æˆ–æ°´å¹³ç©ºç™½å¸¦ï¼Œå°è¯•è°ƒæ•´å›¾ç‰‡é¡ºåºæ¥æ‰“ç ´å®ƒä»¬ã€‚
> 4. å¼•å¯¼è§†è§‰æµå‘ (Guiding Visual Flow)
>   - åˆ›å»ºè·¯å¾„ ï¼šä¼˜ç§€çš„å¸ƒå±€ä¼šä¸è‡ªè§‰åœ°å¼•å¯¼ç”¨æˆ·çš„è§†çº¿ã€‚ä½ å¯ä»¥å°è¯•ç”¨ç…§ç‰‡çš„è§†è§‰é‡ç‚¹ï¼ˆå¦‚äººç‰©çš„è§†çº¿æ–¹å‘ã€é“è·¯çš„å»¶ä¼¸æ–¹å‘ï¼‰æ¥åˆ›å»ºä¸€ä¸ªè‡ªç„¶çš„â€œSâ€å½¢æˆ–â€œZâ€å½¢æµè§ˆè·¯å¾„ï¼Œè®©ç”¨æˆ·å¯ä»¥é¡ºç•…åœ°æµè§ˆæ•´ä¸ªç”»å»Šã€‚
> 5. æŒ‰ä¸»é¢˜æˆ–è‰²è°ƒåˆ†ç»„ (Thematic or Color Grouping)
>   - åˆ›å»ºè¿·ä½ æ•…äº‹ ï¼šå°†å†…å®¹ã€è‰²è°ƒæˆ–ä¸»é¢˜ç›¸ä¼¼çš„2-3å¼ ç…§ç‰‡æ”¾åœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªå°çš„è§†è§‰ç°‡ã€‚è¿™ä¼šæ¯”å®Œå…¨éšæœºçš„æ··æ­çœ‹èµ·æ¥æ›´æœ‰æ¡ç†ï¼Œä¹Ÿèƒ½å¸®åŠ©è®²è¿°æ›´è¿è´¯çš„è§†è§‰æ•…äº‹ã€‚

å®æˆ˜ï¼šåˆ›å»º <Drawer />
1. â€œå¬å”¤â€æ–°ç»„ä»¶: `pnpm dlx shadcn@latest add drawer`
2. åˆ›å»ºæ–‡ä»¶: app/ui/draw.tsx
3. å†™å…¥ä»£ç :
```
'use client'

import * as React from 'react'
import { Drawer as DrawerPrimitive } from 'vaul'

import { cn } from '@/lib/utils'

const Drawer = ({
  shouldScaleBackground = true,
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (
  <DrawerPrimitive.Root
    shouldScaleBackground={shouldScaleBackground}
    {...props}
  />
)
Drawer.displayName = 'Drawer'

const DrawerTrigger = DrawerPrimitive.Trigger

const DrawerPortal = DrawerPrimitive.Portal

const DrawerClose = DrawerPrimitive.Close

const DrawerOverlay = React.forwardRef<
  React.ComponentRef<typeof DrawerPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <DrawerPrimitive.Overlay
    ref={ref}
    className={cn('fixed inset-0 z-50 bg-black/80', className)}
    {...props}
  />
))
DrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName

const DrawerContent = React.forwardRef<
  React.ComponentRef<typeof DrawerPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>
>(({ className, children, ...props }, ref) => (
  <DrawerPortal>
    <DrawerOverlay />
    <DrawerPrimitive.Content
      ref={ref}
      className={cn(
        'fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background',
        className
      )}
      {...props}
    >
      <div className="mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted" />
      {children}
    </DrawerPrimitive.Content>
  </DrawerPortal>
))
DrawerContent.displayName = 'DrawerContent'

const DrawerHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn('grid gap-1.5 p-4 text-center sm:text-left', className)}
    {...props}
  />
)
DrawerHeader.displayName = 'DrawerHeader'

const DrawerFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn('mt-auto flex flex-col gap-2 p-4', className)}
    {...props}
  />
)
DrawerFooter.displayName = 'DrawerFooter'

const DrawerTitle = React.forwardRef<
  React.ComponentRef<typeof DrawerPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>
>(({ className, ...props }, ref) => (
  <DrawerPrimitive.Title
    ref={ref}
    className={cn(
      'text-lg font-semibold leading-none tracking-tight',
      className
    )}
    {...props}
  />
))
DrawerTitle.displayName = DrawerPrimitive.Title.displayName

const DrawerDescription = React.forwardRef<
  React.ComponentRef<typeof DrawerPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>
>(({ className, ...props }, ref) => (
  <DrawerPrimitive.Description
    ref={ref}
    className={cn('text-sm text-muted-foreground', className)}
    {...props}
  />
))
DrawerDescription.displayName = DrawerPrimitive.Description.displayName

export {
  Drawer,
  DrawerPortal,
  DrawerOverlay,
  DrawerTrigger,
  DrawerClose,
  DrawerContent,
  DrawerHeader,
  DrawerFooter,
  DrawerTitle,
  DrawerDescription,
}
```

å®æˆ˜ï¼šåˆ›å»º <ResponsiveDialog />
1. åˆ›å»ºæ–‡ä»¶: app/ui/responsive-dialog.tsx
2. å†™å…¥ä»£ç :
```
'use client'

import * as React from 'react'
import { useMediaQuery } from '@/hooks/use-media-query'
import { Dialog, DialogContent, DialogTitle } from '@/components/ui/dialog'
import { Drawer, DrawerContent, DrawerTitle } from '@/app/ui/drawer'

interface ResponsiveDialogProps {
  children: React.ReactNode
  open: boolean
  onOpenChange: (open: boolean) => void
}

interface ResponsiveDialogContentProps {
  children: React.ReactNode
  className?: string
}

export function ResponsiveDialog({
  children,
  open,
  onOpenChange,
}: ResponsiveDialogProps) {
  const isDesktop = useMediaQuery('(min-width: 768px)')

  if (isDesktop) {
    return (
      <Dialog open={open} onOpenChange={onOpenChange}>
        {children}
      </Dialog>
    )
  }

  return (
    <Drawer open={open} onOpenChange={onOpenChange}>
      {children}
    </Drawer>
  )
}

export function ResponsiveDialogContent({
  children,
  className,
}: ResponsiveDialogContentProps) {
  const isDesktop = useMediaQuery('(min-width: 768px)')

  if (isDesktop) {
    return (
      <DialogContent className={className} showCloseButton={true}>
        <DialogTitle className="sr-only">Photo Details</DialogTitle>
        {children}
      </DialogContent>
    )
  }

  return (
    <DrawerContent className={className}>
      <DrawerTitle className="sr-only">Photo Details</DrawerTitle>
      {children}
    </DrawerContent>
  )
}
```

å®æˆ˜ï¼šå®ç°â€œç”»å»Šç›¸æ¡†æ•ˆæœâ€: åœ¨ photo-grid.tsx ä¸­ï¼Œæˆ‘ä»¬å°†ç”¨ <ResponsiveDialog /> æ›¿æ¢ <Dialog />ï¼Œå¹¶ä¸ºå…¶ Content éƒ¨åˆ†ï¼Œæ·»åŠ æˆ‘ä»¬ç²¾å¿ƒè®¾è®¡çš„ã€å¸¦æœ‰â€œèšå…‰ç¯â€å’Œâ€œç»ç’ƒå…‰æ³½â€çš„ Tailwind CSS æ ·å¼ã€‚
> æ­¤å¤„æ ·å¼ç»†èŠ‚æ”¹åŠ¨è¾ƒå¤šï¼Œå…·ä½“è¯·å‚è€ƒgithubæœ€æ–°ä»£ç 

æœ¬ç« å°ç»“
æ­å–œä½ ï¼åœ¨è¿™ä¸€ç« ï¼Œä½ å·²ç»å°†ä¸€ä¸ªåŠŸèƒ½æ€§çš„ç½‘ç«™ï¼Œå‡åä¸ºä¸€ä¸ªä½“éªŒæµç•…ã€è§†è§‰åŠ¨äººçš„äº§å“ã€‚ä½ çš„â€œæ•°å­—èŠ±å›­â€ç°åœ¨ä¸ä»…èƒ½çœ‹ï¼Œè€Œä¸”â€œå¾ˆå¥½çœ‹â€ã€â€œå¾ˆå¥½ç”¨â€ã€‚